import{SvelteComponent as E,append as c,attr as p,destroy_each as v,detach as h,element as u,init as y,insert as g,noop as b,safe_not_equal as w,set_data as x,space as S,text as _}from"../../web_modules/svelte/internal.js";import q from"../6502/instructions/index.js";import C,{argParamsGenerator as P}from"../6502/disassembler/index.js";function $(f,r,a){const n=f.slice();return n[5]=r[a][0],n[6]=r[a][1],n}function j(f){let r,a,n=f[5]+"",s,t,i,e=f[6]+"",o,d;return{c(){r=u("tr"),a=u("td"),s=_(n),t=S(),i=u("td"),o=_(e),d=S(),p(a,"class","w-1/3")},m(l,m){g(l,r,m),c(r,a),c(a,s),c(r,t),c(r,i),c(i,o),c(r,d)},p(l,m){m&1&&n!==(n=l[5]+"")&&x(s,n),m&1&&e!==(e=l[6]+"")&&x(o,e)},d(l){l&&h(r)}}}function k(f){let r,a,n=f[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=j($(f,n,t));return{c(){r=u("div"),a=u("table");for(let t=0;t<s.length;t+=1)s[t].c();p(a,"class","font-mono table-fixed")},m(t,i){g(t,r,i),c(r,a);for(let e=0;e<s.length;e+=1)s[e].m(a,null)},p(t,[i]){if(i&1){n=t[0];let e;for(e=0;e<n.length;e+=1){const o=$(t,n,e);s[e]?s[e].p(o,i):(s[e]=j(o),s[e].c(),s[e].m(a,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}},i:b,o:b,d(t){t&&h(r),v(s,t)}}}function A(f,r,a){let{ram:n}=r,{offsetStart:s}=r,{offsetEnd:t}=r;const i=P(t);f.$$set=o=>{"ram"in o&&a(1,n=o.ram),"offsetStart"in o&&a(2,s=o.offsetStart),"offsetEnd"in o&&a(3,t=o.offsetEnd)};let e;return f.$$.update=()=>{if(f.$$.dirty&14){t:a(0,e=(()=>{const o=[];let d=0;for(let l=s;l<t;l+=1)d-=1,d<=0&&(d=i[q[n[l]].addressingName].length),o.push(n[l]);if(d>0)for(let l=t;l<t+d;l+=1)o.push(n[l]);return Object.entries(C(o,{binaryStart:s}))})())}},[e,n,s,t]}class G extends E{constructor(f){super();y(this,f,A,k,w,{ram:1,offsetStart:2,offsetEnd:3})}}export default G;
