import{FLAGS as r}from"../../register.js";export function BRK(s){s.registers.PC+=1;var t=s.registers.PC;s.pushStack((t&65280)>>8),s.pushStack(t&255),s.registers.STATUS.I=!0,s.registers.STATUS.B=!0,s.pushStack(+s.registers.STATUS),s.registers.STATUS.B=!1;var e=s.ram[65534],S=s.ram[65535];return s.registers.PC=S<<8|e,0}export function RTI(s){var t=s.popStack();t&=~r.U,t&=~r.B;var e=s.popStack();return e|=s.popStack()<<8,s.registers.PC=e,s.registers.STATUS.status=t,0}
