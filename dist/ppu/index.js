function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,r,t){return r&&g(e.prototype,r),t&&g(e,t),e}import b from"../utils/screen.js";export var palScreen=[{r:84,g:84,b:84},{r:0,g:30,b:116},{r:8,g:16,b:144},{r:48,g:0,b:136},{r:68,g:0,b:100},{r:92,g:0,b:48},{r:84,g:4,b:0},{r:60,g:24,b:0},{r:32,g:42,b:0},{r:8,g:58,b:0},{r:0,g:64,b:0},{r:0,g:60,b:0},{r:0,g:50,b:60},{r:0,g:0,b:0},{r:0,g:0,b:0},{r:0,g:0,b:0},{r:152,g:150,b:152},{r:8,g:76,b:196},{r:48,g:50,b:236},{r:92,g:30,b:228},{r:136,g:20,b:176},{r:160,g:20,b:100},{r:152,g:34,b:32},{r:120,g:60,b:0},{r:84,g:90,b:0},{r:40,g:114,b:0},{r:8,g:124,b:0},{r:0,g:118,b:40},{r:0,g:102,b:120},{r:0,g:0,b:0},{r:0,g:0,b:0},{r:0,g:0,b:0},{r:236,g:238,b:236},{r:76,g:154,b:236},{r:120,g:124,b:236},{r:176,g:98,b:236},{r:228,g:84,b:236},{r:236,g:88,b:180},{r:236,g:106,b:100},{r:212,g:136,b:32},{r:160,g:170,b:0},{r:116,g:196,b:0},{r:76,g:208,b:32},{r:56,g:204,b:108},{r:56,g:180,b:204},{r:60,g:60,b:60},{r:0,g:0,b:0},{r:0,g:0,b:0},{r:236,g:238,b:236},{r:168,g:204,b:236},{r:188,g:188,b:236},{r:212,g:178,b:236},{r:236,g:174,b:236},{r:236,g:174,b:212},{r:236,g:180,b:176},{r:228,g:196,b:144},{r:204,g:210,b:120},{r:180,g:222,b:120},{r:168,g:226,b:144},{r:152,g:226,b:180},{r:160,g:214,b:228},{r:160,g:162,b:160},{r:0,g:0,b:0},{r:0,g:0,b:0}];var s=function(){function e(){i(this,e),this.tableName=[new Uint8Array(1024),new Uint8Array(1024)],this.tablePalette=new Uint8Array(32),this.screen=new b(256,240),this.screenTableName=[new b(256,240),new b(256,240)],this.screenPatternTable=[new b(128,128),new b(128,128)],this.isFrameComplete=!1,this.scanline=0,this.cycle=0}return c(e,[{key:"insertCartridge",value:function(r){this.cartridge=r}},{key:"clock",value:function(){this.screen.setColor(this.cycle-1,this.scanline,palScreen[Math.random()>.5?63:48]),this.cycle+=1,this.cycle>=341&&(this.cycle=0,this.scanline+=1,this.scanline>=261&&(this.scanline=-1,this.isFrameComplete=!0))}},{key:"getScreen",value:function(){return this.screen}},{key:"cpuRead",value:function(r){var t=0;return t}},{key:"cpuWrite",value:function(r,t){}},{key:"ppuRead",value:function(r){return this.cartridge.ppuRead(r),0}},{key:"ppuWrite",value:function(r,t){this.cartridge.ppuWrite(r,t)}}]),e}();export{s as default};
